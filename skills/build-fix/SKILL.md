---
name: build-fix
description: TypeScriptやビルドエラーを段階的に修正するワークフロー。ビルドエラー、コンパイルエラー、TypeScriptエラーの修正時に使用。「ビルドエラーを直して」「コンパイルが通らない」「TSエラーを修正」などのフレーズでトリガーされる。
---

# ビルド＆修正

TypeScriptやビルドエラーを段階的に修正するワークフロー。

## ワークフロー

### 1. ビルドを実行

```bash
npm run build
# または
pnpm build
```

### 2. エラー出力を解析

- ファイルごとにグループ化
- 重要度順にソート

### 3. 各エラーを修正

1つずつ順番に修正する：

1. **エラーコンテキストを表示** - 前後5行を含めて確認
2. **問題を説明** - 何が原因かを特定
3. **修正案を提示** - 解決方法を検討
4. **修正を適用** - コードを変更
5. **ビルドを再実行** - 修正結果を確認
6. **エラー解消を確認** - 新たな問題がないか検証

### 4. 停止条件

以下の場合は修正を中断する：

- 修正が新たなエラーを引き起こした場合
- 同じエラーが3回の試行後も解消しない場合
- ユーザーが一時停止を要求した場合

### 5. サマリーを表示

修正完了後、以下を報告：

- ✅ 修正したエラーの数
- ⚠️ 残っているエラーの数
- ❌ 新たに発生したエラーの数

## 重要な原則

**安全のため、エラーは1つずつ修正すること！**

複数のエラーを一度に修正しようとすると：

- どの修正がどのエラーに対応するか追跡が困難になる
- 修正同士が干渉する可能性がある
- 新たなエラーの原因特定が難しくなる
